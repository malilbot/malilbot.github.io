"use strict";(self.webpackChunkmalilbot_github_io=self.webpackChunkmalilbot_github_io||[]).push([[231],{3349:function(t,e,s){function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}s.d(e,{Z:function(){return o}})},3348:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var o=s(7294),i=s(261),a=s(3349),h=s(3552);var n=function(t){return o.createElement("div",{id:"GameBoard",style:{width:t.width,height:t.height,borderWidth:t.width/50}},o.createElement("div",{id:"GameOver",style:{fontSize:t.width/15}},o.createElement("div",{id:"GameOverText"},"GAME OVER"),o.createElement("div",null,"Your score: ",t.score),o.createElement("div",null,t.newHighScore?"New local ":"Local ","high score:"," ",t.highScore),o.createElement("div",{id:"PressSpaceText"},"Press Space to restart")))},r=function(t){function e(e){var s;return(s=t.call(this,e)||this).handleKeyDown=s.handleKeyDown.bind((0,a.Z)(s)),s.state={width:0,height:0,blockWidth:0,blockHeight:0,gameLoopTimeout:50,timeoutId:0,startSnakeSize:0,snake:[],apple:{},direction:"right",directionChanged:!1,isGameOver:!1,snakeColor:s.props.snakeColor||s.getRandomColor(),appleColor:s.props.appleColor||s.getRandomColor(),score:0,highScore:0,newHighScore:!1},s}(0,h.Z)(e,t);var s=e.prototype;return s.componentDidMount=function(){this.initGame(),window.addEventListener("keydown",this.handleKeyDown),this.gameLoop()},s.initGame=function(){var t=this.props.percentageWidth||40,e=document.getElementById("GameBoard").parentElement.offsetWidth*(t/100);(e-=e%30)<30&&(e=30);var s=e/3*2,o=e/30,i=s/20,a=this.props.startSnakeSize||6,h=[],n=e/2,r=s/2,p={Xpos:e/2,Ypos:s/2};h.push(p);for(var c=1;c<a;c++){var d={Xpos:n-=o,Ypos:r};h.push(d)}for(var l=Math.floor(Math.random()*((e-o)/o+1))*o,m=Math.floor(Math.random()*((s-i)/i+1))*i;m===h[0].Ypos;)m=Math.floor(Math.random()*((s-i)/i+1))*i;this.setState({width:e,height:s,blockWidth:o,blockHeight:i,startSnakeSize:a,snake:h,apple:{Xpos:l,Ypos:m}})},s.gameLoop=function(){var t=this,e=setTimeout((function(){t.state.isGameOver||(t.moveSnake(),t.tryToEatSnake(),t.tryToEatApple(),t.setState({directionChanged:!1})),t.gameLoop()}),this.state.gameLoopTimeout);this.setState({timeoutId:e})},s.componentWillUnmount=function(){clearTimeout(this.state.timeoutId),window.removeEventListener("keydown",this.handleKeyDown)},s.resetGame=function(){var t=this.state.width,e=this.state.height,s=this.state.blockWidth,o=this.state.blockHeight,i=this.state.apple,a=[],h=t/2,n=e/2,r={Xpos:t/2,Ypos:e/2};a.push(r);for(var p=1;p<this.state.startSnakeSize;p++){var c={Xpos:h-=s,Ypos:n};a.push(c)}for(i.Xpos=Math.floor(Math.random()*((t-s)/s+1))*s,i.Ypos=Math.floor(Math.random()*((e-o)/o+1))*o;this.isAppleOnSnake(i.Xpos,i.Ypos);)i.Xpos=Math.floor(Math.random()*((t-s)/s+1))*s,i.Ypos=Math.floor(Math.random()*((e-o)/o+1))*o;this.setState({snake:a,apple:i,direction:"right",directionChanged:!1,isGameOver:!1,gameLoopTimeout:50,snakeColor:this.getRandomColor(),appleColor:this.getRandomColor(),score:0,newHighScore:!1})},s.getRandomColor=function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t},s.moveSnake=function(){var t=this.state.snake,e=this.state.snake[0].Xpos,s=this.state.snake[0].Ypos,o=e,i=s;this.moveHead();for(var a=1;a<t.length;a++)o=t[a].Xpos,i=t[a].Ypos,t[a].Xpos=e,t[a].Ypos=s,e=o,s=i;this.setState({snake:t})},s.tryToEatApple=function(){var t=this.state.snake,e=this.state.apple;if(t[0].Xpos===e.Xpos&&t[0].Ypos===e.Ypos){var s=this.state.width,o=this.state.height,i=this.state.blockWidth,a=this.state.blockHeight,h={Xpos:e.Xpos,Ypos:e.Ypos},n=this.state.highScore,r=this.state.newHighScore,p=this.state.gameLoopTimeout;for(t.push(h),e.Xpos=Math.floor(Math.random()*((s-i)/i+1))*i,e.Ypos=Math.floor(Math.random()*((o-a)/a+1))*a;this.isAppleOnSnake(e.Xpos,e.Ypos);)e.Xpos=Math.floor(Math.random()*((s-i)/i+1))*i,e.Ypos=Math.floor(Math.random()*((o-a)/a+1))*a;this.state.score===n&&(n++,r=!0),p>25&&(p-=.5),this.setState({snake:t,apple:e,score:this.state.score+1,highScore:n,newHighScore:r,gameLoopTimeout:p})}},s.tryToEatSnake=function(){for(var t=this.state.snake,e=1;e<t.length;e++)t[0].Xpos===t[e].Xpos&&t[0].Ypos===t[e].Ypos&&this.setState({isGameOver:!0})},s.isAppleOnSnake=function(t,e){for(var s=this.state.snake,o=0;o<s.length;o++)if(t===s[o].Xpos&&e===s[o].Ypos)return!0;return!1},s.moveHead=function(){switch(this.state.direction){case"left":this.moveHeadLeft();break;case"up":this.moveHeadUp();break;case"right":this.moveHeadRight();break;default:this.moveHeadDown()}},s.moveHeadLeft=function(){var t=this.state.width,e=this.state.blockWidth,s=this.state.snake;s[0].Xpos=s[0].Xpos<=0?t-e:s[0].Xpos-e,this.setState({snake:s})},s.moveHeadUp=function(){var t=this.state.height,e=this.state.blockHeight,s=this.state.snake;s[0].Ypos=s[0].Ypos<=0?t-e:s[0].Ypos-e,this.setState({snake:s})},s.moveHeadRight=function(){var t=this.state.width,e=this.state.blockWidth,s=this.state.snake;s[0].Xpos=s[0].Xpos>=t-e?0:s[0].Xpos+e,this.setState({snake:s})},s.moveHeadDown=function(){var t=this.state.height,e=this.state.blockHeight,s=this.state.snake;s[0].Ypos=s[0].Ypos>=t-e?0:s[0].Ypos+e,this.setState({snake:s})},s.handleKeyDown=function(t){if(this.state.isGameOver&&32===t.keyCode)this.resetGame();else if(!this.state.directionChanged){switch(t.keyCode){case 37:case 65:this.goLeft();break;case 38:case 87:this.goUp();break;case 39:case 68:this.goRight();break;case 40:case 83:this.goDown()}this.setState({directionChanged:!0})}},s.goLeft=function(){var t="right"===this.state.direction?"right":"left";this.setState({direction:t})},s.goUp=function(){var t="down"===this.state.direction?"down":"up";this.setState({direction:t})},s.goRight=function(){var t="left"===this.state.direction?"left":"right";this.setState({direction:t})},s.goDown=function(){var t="up"===this.state.direction?"up":"down";this.setState({direction:t})},s.render=function(){var t=this;return this.state.isGameOver?o.createElement(n,{width:this.state.width,height:this.state.height,highScore:this.state.highScore,newHighScore:this.state.newHighScore,score:this.state.score}):o.createElement("div",{id:"GameBoard",style:{width:this.state.width,height:this.state.height,borderWidth:this.state.width/50}},this.state.snake.map((function(e,s){return o.createElement("div",{key:s,className:"Block",style:{width:t.state.blockWidth,height:t.state.blockHeight,left:e.Xpos,top:e.Ypos,background:t.state.snakeColor}})})),o.createElement("div",{className:"Block",style:{width:this.state.blockWidth,height:this.state.blockHeight,left:this.state.apple.Xpos,top:this.state.apple.Ypos,background:this.state.appleColor}}),o.createElement("div",{id:"Score",style:{fontSize:this.state.width/20}},"HIGH-SCORE: ",this.state.highScore,"\u2002\u2002\u2002\u2002SCORE:"," ",this.state.score))},e}(o.Component);function p(){return o.createElement(i.Z,{title:"Home page",description:"Malil the all in one discord bot <head />"},o.createElement(r,null))}}}]);